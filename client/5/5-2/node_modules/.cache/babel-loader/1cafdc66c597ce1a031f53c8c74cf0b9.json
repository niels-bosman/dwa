{"ast":null,"code":"var _jsxFileName = \"/home/niels/Projects/school/niels-bosman/client/5/5-2/src/components/App.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { ItemList } from './ItemList';\nimport { IFrameArea } from './IFrameArea';\nimport { PreferenceDialog } from './PreferenceDialog';\n\nconst RhNHApp = () => {\n  const [items, setItems] = useState([]);\n  const [statuses, setStatuses] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [dialogVisible, setDialogVisible] = useState(false);\n  const [color, setColor] = useState('orange');\n  const [amountOfItems, setAmountOfItems] = useState(60);\n  useEffect(() => {\n    const fetch = async () => await Promise.all([fetchItems(), fetchStatuses()]);\n\n    fetch();\n  }, []);\n\n  const onSelectItem = async selected => {\n    await setItemSelected(selected.id);\n    setSelected(selected);\n    await fetchStatuses();\n  };\n\n  const markAllVisibleAsSeen = async () => {\n    const itemsToMark = items.slice(0, amountOfItems);\n\n    for (const item of itemsToMark) {\n      await setItemSelected(item.id);\n    }\n\n    await fetchStatuses();\n  };\n\n  const togglePreferenceDialog = () => {\n    setDialogVisible(!dialogVisible);\n  };\n\n  const savePreferences = (amountOfItems, color) => {\n    setAmountOfItems(amountOfItems);\n    setColor(color);\n    togglePreferenceDialog();\n  };\n\n  const fetchItems = async () => {\n    const items = await fetch('http://localhost:3000/hn/topstories');\n    setItems(await items.json());\n  };\n\n  const setItemSelected = async id => {\n    await fetch(`http://localhost:3000/itemStatuses/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'text/plain'\n      },\n      body: 'seen'\n    });\n  };\n\n  const fetchStatuses = async () => {\n    const statuses = await fetch('http://localhost:3000/itemStatuses');\n    setStatuses(await statuses.json());\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `App ${color}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ListPanel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ItemList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    id: \"ListHeader\",\n    className: \"panelHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"colored\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, \"RrHN\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, \"React-redux Hacker News\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"settingsIcon\",\n    onClick: togglePreferenceDialog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 1792 1792\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ListMainContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ItemList, {\n    items: items,\n    statuses: statuses,\n    selected: selected,\n    amount: amountOfItems,\n    onSelectItem: onSelectItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    onClick: markAllVisibleAsSeen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, \"Mark all items as 'seen'\")), /*#__PURE__*/React.createElement(\"footer\", {\n    id: \"ListFooter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, \"visual design based on\", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://blog.trackduck.com/weekly/top-10-hacker-news-redesigns/unknown-author-2/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"this redesign by unknown author\"), \".\"))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ContentPanel\",\n    className: dialogVisible ? 'preferences' : 'item',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, dialogVisible ? /*#__PURE__*/React.createElement(PreferenceDialog, {\n    itemAmount: amountOfItems,\n    maxItems: items.length,\n    color: color,\n    onCancel: togglePreferenceDialog,\n    onSave: savePreferences,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }) : selected ? /*#__PURE__*/React.createElement(IFrameArea, {\n    item: selected,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, \"No item selected yet.\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 19\n    }\n  }, \"Select an item in the colum on the left.\"))));\n};\n\nexport default RhNHApp;","map":{"version":3,"sources":["/home/niels/Projects/school/niels-bosman/client/5/5-2/src/components/App.jsx"],"names":["React","useEffect","useState","ItemList","IFrameArea","PreferenceDialog","RhNHApp","items","setItems","statuses","setStatuses","selected","setSelected","dialogVisible","setDialogVisible","color","setColor","amountOfItems","setAmountOfItems","fetch","Promise","all","fetchItems","fetchStatuses","onSelectItem","setItemSelected","id","markAllVisibleAsSeen","itemsToMark","slice","item","togglePreferenceDialog","savePreferences","json","method","headers","body","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport { ItemList } from './ItemList';\nimport { IFrameArea } from './IFrameArea';\nimport { PreferenceDialog } from './PreferenceDialog';\n\nconst RhNHApp = () => {\n  const [items, setItems]                 = useState([]);\n  const [statuses, setStatuses]           = useState([]);\n  const [selected, setSelected]           = useState(null);\n  const [dialogVisible, setDialogVisible] = useState(false);\n  const [color, setColor]                 = useState('orange');\n  const [amountOfItems, setAmountOfItems] = useState(60);\n\n  useEffect(() => {\n    const fetch = async () => await Promise.all([fetchItems(), fetchStatuses()]);\n\n    fetch();\n  }, []);\n\n  const onSelectItem = async selected => {\n    await setItemSelected(selected.id);\n    setSelected(selected);\n    await fetchStatuses();\n  };\n\n  const markAllVisibleAsSeen = async () => {\n    const itemsToMark = items.slice(0, amountOfItems);\n\n    for (const item of itemsToMark) {\n      await setItemSelected(item.id);\n    }\n\n    await fetchStatuses();\n  };\n\n  const togglePreferenceDialog = () => {\n    setDialogVisible(!dialogVisible);\n  };\n\n  const savePreferences = (amountOfItems, color) => {\n    setAmountOfItems(amountOfItems);\n    setColor(color);\n    togglePreferenceDialog();\n  };\n\n  const fetchItems = async () => {\n    const items = await fetch('http://localhost:3000/hn/topstories');\n    setItems(await items.json());\n  };\n\n  const setItemSelected = async id => {\n    await fetch(`http://localhost:3000/itemStatuses/${id}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'text/plain' },\n      body: 'seen',\n    });\n  };\n\n  const fetchStatuses = async () => {\n    const statuses = await fetch('http://localhost:3000/itemStatuses');\n    setStatuses(await statuses.json());\n  };\n\n  return (\n    <div className={`App ${color}`}>\n      <div id=\"ListPanel\">\n        <div className=\"ItemList\">\n          <header id=\"ListHeader\" className=\"panelHeader\">\n            <div className=\"Logo\">\n              <div className=\"colored\">RrHN</div>\n              <div className=\"title\">React-redux Hacker News</div>\n            </div>\n            <span className=\"settingsIcon\" onClick={togglePreferenceDialog}>\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z\"/>\n                </svg>\n             </span>\n          </header>\n\n          <div id=\"ListMainContent\">\n            <ItemList\n              items={items}\n              statuses={statuses}\n              selected={selected}\n              amount={amountOfItems}\n              onSelectItem={onSelectItem}\n            />\n            <p onClick={markAllVisibleAsSeen}>\n              Mark all items as 'seen'\n            </p>\n          </div>\n\n          <footer id=\"ListFooter\">\n            visual design based on\n            <a href=\"http://blog.trackduck.com/weekly/top-10-hacker-news-redesigns/unknown-author-2/\">\n              this redesign by unknown author\n            </a>.\n          </footer>\n        </div>\n      </div>\n\n      <div id=\"ContentPanel\" className={dialogVisible ? 'preferences' : 'item'}>\n        {\n          dialogVisible\n            ? <PreferenceDialog\n              itemAmount={amountOfItems}\n              maxItems={items.length}\n              color={color}\n              onCancel={togglePreferenceDialog}\n              onSave={savePreferences}\n            />\n            : selected\n              ? <IFrameArea item={selected}/>\n              : (\n                <div>\n                  <h2>No item selected yet.</h2>\n                  <p>Select an item in the colum on the left.</p>\n                </div>\n              )\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default RhNHApp;"]},"metadata":{},"sourceType":"module"}