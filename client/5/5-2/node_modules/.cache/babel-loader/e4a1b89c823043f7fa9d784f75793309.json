{"ast":null,"code":"var _jsxFileName = \"/home/niels/Projects/school/niels-bosman/client/5/5-2/src/components/App.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { Switch, Route, Link } from 'react-router-dom';\nimport { ItemList } from './ItemList';\nimport { IFrameArea } from './IFrameArea';\nimport EmptyPanel from './EmptyPanel';\nimport { PreferenceDialog } from './PreferenceDialog';\n\nconst RhNHApp = () => {\n  const [items, setItems] = useState([]);\n  const [statuses, setStatuses] = useState([]);\n  const [color, setColor] = useState('orange');\n  const [amountOfItems, setAmountOfItems] = useState(60);\n  useEffect(() => {\n    const fetch = async () => await Promise.all([fetchItems(), fetchStatuses()]);\n\n    fetch();\n  }, []);\n\n  const onSelectItem = async selected => {\n    await setItemSelected(selected.id);\n    await fetchStatuses();\n  };\n\n  const markAllVisibleAsSeen = async () => {\n    const itemsToMark = items.slice(0, amountOfItems);\n\n    for (const item of itemsToMark) {\n      await setItemSelected(item.id);\n    }\n\n    await fetchStatuses();\n  };\n\n  const savePreferences = (amountOfItems, color) => {\n    setAmountOfItems(amountOfItems);\n    setColor(color);\n  };\n\n  const findItemById = id => items.find(item => item.id === id);\n\n  const fetchItems = async () => {\n    const items = await fetch('http://localhost:3000/hn/topstories');\n    setItems(await items.json());\n  };\n\n  const setItemSelected = async id => {\n    await fetch(`http://localhost:3000/itemStatuses/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'text/plain'\n      },\n      body: 'seen'\n    });\n  };\n\n  const fetchStatuses = async () => {\n    const statuses = await fetch('http://localhost:3000/itemStatuses');\n    setStatuses(await statuses.json());\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `App ${color}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ListPanel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ItemList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    id: \"ListHeader\",\n    className: \"panelHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"colored\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, \"RrHN\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, \"React-redux Hacker News\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/preferences\",\n    className: \"settingsIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 1792 1792\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ListMainContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ItemList, {\n    items: items,\n    statuses: statuses,\n    amount: amountOfItems,\n    onSelectItem: onSelectItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    onClick: markAllVisibleAsSeen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"Mark all items as 'seen'\")), /*#__PURE__*/React.createElement(\"footer\", {\n    id: \"ListFooter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"visual design based on\", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://blog.trackduck.com/weekly/top-10-hacker-news-redesigns/unknown-author-2/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"this redesign by unknown author\"), \".\"))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ContentPanel\",\n    className: 'item',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: EmptyPanel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/preferences\",\n    render: routeProps => /*#__PURE__*/React.createElement(PreferenceDialog, Object.assign({\n      itemAmount: amountOfItems,\n      maxItems: items.length,\n      color: color,\n      onSave: savePreferences\n    }, routeProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }), items.length && /*#__PURE__*/React.createElement(Route, {\n    path: \"/item/:itemId\",\n    render: routeProps => /*#__PURE__*/React.createElement(IFrameArea, {\n      item: findItemById(routeProps.match.params.itemId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }))));\n};\n\nexport default RhNHApp;","map":{"version":3,"sources":["/home/niels/Projects/school/niels-bosman/client/5/5-2/src/components/App.jsx"],"names":["React","useEffect","useState","Switch","Route","Link","ItemList","IFrameArea","EmptyPanel","PreferenceDialog","RhNHApp","items","setItems","statuses","setStatuses","color","setColor","amountOfItems","setAmountOfItems","fetch","Promise","all","fetchItems","fetchStatuses","onSelectItem","selected","setItemSelected","id","markAllVisibleAsSeen","itemsToMark","slice","item","savePreferences","findItemById","find","json","method","headers","body","routeProps","length","match","params","itemId"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Switch, Route, Link } from 'react-router-dom';\nimport { ItemList } from './ItemList';\nimport { IFrameArea } from './IFrameArea';\nimport EmptyPanel from './EmptyPanel';\nimport { PreferenceDialog } from './PreferenceDialog';\n\nconst RhNHApp = () => {\n  const [items, setItems]                 = useState([]);\n  const [statuses, setStatuses]           = useState([]);\n  const [color, setColor]                 = useState('orange');\n  const [amountOfItems, setAmountOfItems] = useState(60);\n\n  useEffect(() => {\n    const fetch = async () => await Promise.all([fetchItems(), fetchStatuses()]);\n\n    fetch();\n  }, []);\n\n  const onSelectItem = async selected => {\n    await setItemSelected(selected.id);\n    await fetchStatuses();\n  };\n\n  const markAllVisibleAsSeen = async () => {\n    const itemsToMark = items.slice(0, amountOfItems);\n\n    for (const item of itemsToMark) {\n      await setItemSelected(item.id);\n    }\n\n    await fetchStatuses();\n  };\n\n  const savePreferences = (amountOfItems, color) => {\n    setAmountOfItems(amountOfItems);\n    setColor(color);\n  };\n\n  const findItemById = id => items.find(item => item.id === id);\n\n  const fetchItems = async () => {\n    const items = await fetch('http://localhost:3000/hn/topstories');\n    setItems(await items.json());\n  };\n\n  const setItemSelected = async id => {\n    await fetch(`http://localhost:3000/itemStatuses/${id}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'text/plain' },\n      body: 'seen',\n    });\n  };\n\n  const fetchStatuses = async () => {\n    const statuses = await fetch('http://localhost:3000/itemStatuses');\n    setStatuses(await statuses.json());\n  };\n\n  return (\n    <div className={`App ${color}`}>\n      <div id=\"ListPanel\">\n        <div className=\"ItemList\">\n          <header id=\"ListHeader\" className=\"panelHeader\">\n            <div className=\"Logo\">\n              <div className=\"colored\">RrHN</div>\n              <div className=\"title\">React-redux Hacker News</div>\n            </div>\n            <Link to='/preferences' className=\"settingsIcon\">\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z\"/>\n                </svg>\n             </Link>\n          </header>\n\n          <div id=\"ListMainContent\">\n            <ItemList\n              items={items}\n              statuses={statuses}\n              amount={amountOfItems}\n              onSelectItem={onSelectItem}\n            />\n            <p onClick={markAllVisibleAsSeen}>\n              Mark all items as 'seen'\n            </p>\n          </div>\n\n          <footer id=\"ListFooter\">\n            visual design based on\n            <a href=\"http://blog.trackduck.com/weekly/top-10-hacker-news-redesigns/unknown-author-2/\">\n              this redesign by unknown author\n            </a>.\n          </footer>\n        </div>\n      </div>\n\n      <div id=\"ContentPanel\" className={'item'}>\n        <Switch>\n          <Route exact path=\"/\" component={EmptyPanel} />\n          <Route path=\"/preferences\" render={(routeProps) => (\n            <PreferenceDialog\n              itemAmount={amountOfItems}\n              maxItems={items.length}\n              color={color}\n              onSave={savePreferences}\n              {...routeProps}\n            />\n          )}/>\n          {\n            items.length && (\n              <Route path=\"/item/:itemId\" render={routeProps => (\n                <IFrameArea item={findItemById(routeProps.match.params.itemId)}/>\n              )}/>\n            )\n          }\n        </Switch>\n      </div>\n    </div>\n  );\n};\n\nexport default RhNHApp;"]},"metadata":{},"sourceType":"module"}