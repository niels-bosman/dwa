{"ast":null,"code":"var _jsxFileName = \"/home/niels/Projects/school/niels-bosman/client/4/src/components/App.jsx\";\nimport React from 'react';\nimport { ItemList } from './ItemList';\nimport { IFrameArea } from './IFrameArea';\nimport { PreferenceDialog } from './PreferenceDialog';\nexport class RrHNApp extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      items: [],\n      statuses: [],\n      selected: null,\n      dialogVisible: false,\n      color: 'orange',\n      amountOfItems: 60\n    };\n\n    this.onSelectItem = async selected => {\n      await this.setItemSelected(selected);\n      this.setState({\n        selected\n      });\n      await this.fetchStatuses();\n    };\n\n    this.markAllVisibleAsSeen = async () => {\n      const itemsToMark = this.state.items.slice(0, this.state.amountOfItems);\n\n      for (const item of itemsToMark) {\n        await this.setItemSelected(item.id);\n      }\n    };\n\n    this.togglePreferenceDialog = () => {\n      this.setState(({\n        dialogVisible\n      }) => ({\n        dialogVisible: !dialogVisible\n      }));\n    };\n\n    this.savePreferences = (amountOfItems, color) => {\n      this.setState({\n        amountOfItems,\n        color\n      });\n      this.togglePreferenceDialog();\n    };\n\n    this.fetchItems = async () => {\n      const items = await fetch('http://localhost:3000/hn/topstories');\n      this.setState({\n        items: await items.json()\n      });\n    };\n\n    this.setItemSelected = async id => {\n      await fetch(`http://localhost:3000/itemStatuses/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'text/plain'\n        },\n        body: 'seen'\n      });\n    };\n\n    this.fetchStatuses = async () => {\n      const statuses = await fetch('http://localhost:3000/itemStatuses');\n      this.setState({\n        statuses: await statuses.json()\n      });\n    };\n  }\n\n  async componentDidMount() {\n    await this.fetchItems();\n    await this.fetchStatuses();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `App ${this.state.color}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ListPanel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ItemList\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      id: \"ListHeader\",\n      className: \"panelHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"colored\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, \"RrHN\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, \"React-redux Hacker News\")), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"settingsIcon\",\n      onClick: this.togglePreferenceDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"20\",\n      height: \"20\",\n      viewBox: \"0 0 1792 1792\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ListMainContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ItemList, {\n      items: this.state.items,\n      statuses: this.state.statuses,\n      selected: this.state.selected,\n      amount: this.state.amountOfItems,\n      onSelectItem: this.onSelectItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      onClick: this.markAllVisibleAsSeen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, \"Mark all items as 'seen'\")), /*#__PURE__*/React.createElement(\"footer\", {\n      id: \"ListFooter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, \"visual design based on\", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"http://blog.trackduck.com/weekly/top-10-hacker-news-redesigns/unknown-author-2/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, \"this redesign by unknown author\"), \".\"))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ContentPanel\",\n      className: this.state.dialogVisible ? 'preferences' : 'item',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, this.state.dialogVisible ? /*#__PURE__*/React.createElement(PreferenceDialog, {\n      itemAmount: this.state.amountOfItems,\n      maxItems: this.state.items.length,\n      color: this.state.color,\n      onCancel: this.togglePreferenceDialog,\n      onSave: this.savePreferences,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }) : this.state.selected !== null ? /*#__PURE__*/React.createElement(IFrameArea, {\n      item: this.state.selected,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, \"No item selected yet.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, \"Select an item in the colum on the left.\"))));\n  }\n\n}","map":{"version":3,"sources":["/home/niels/Projects/school/niels-bosman/client/4/src/components/App.jsx"],"names":["React","ItemList","IFrameArea","PreferenceDialog","RrHNApp","Component","state","items","statuses","selected","dialogVisible","color","amountOfItems","onSelectItem","setItemSelected","setState","fetchStatuses","markAllVisibleAsSeen","itemsToMark","slice","item","id","togglePreferenceDialog","savePreferences","fetchItems","fetch","json","method","headers","body","componentDidMount","render","length"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { ItemList } from './ItemList';\nimport { IFrameArea } from './IFrameArea';\nimport { PreferenceDialog } from './PreferenceDialog';\n\nexport class RrHNApp extends React.Component {\n  state = {\n    items: [],\n    statuses: [],\n    selected: null,\n    dialogVisible: false,\n    color: 'orange',\n    amountOfItems: 60\n  };\n\n  onSelectItem = async selected => {\n    await this.setItemSelected(selected);\n    this.setState({ selected });\n    await this.fetchStatuses();\n  };\n\n  markAllVisibleAsSeen = async () => {\n    const itemsToMark = this.state.items.slice(0, this.state.amountOfItems);\n\n    for (const item of itemsToMark) {\n      await this.setItemSelected(item.id);\n    }\n  };\n\n  togglePreferenceDialog = () => {\n    this.setState(({ dialogVisible }) => ({ dialogVisible: !dialogVisible }));\n  };\n\n  savePreferences = (amountOfItems, color) => {\n    this.setState({ amountOfItems, color });\n    this.togglePreferenceDialog();\n  };\n\n  fetchItems = async () => {\n    const items = await fetch('http://localhost:3000/hn/topstories');\n    this.setState({ items: await items.json() });\n  };\n\n  setItemSelected = async id => {\n    await fetch(`http://localhost:3000/itemStatuses/${id}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'text/plain' },\n      body: 'seen',\n    });\n  };\n\n  fetchStatuses = async () => {\n    const statuses = await fetch('http://localhost:3000/itemStatuses');\n    this.setState({ statuses: await statuses.json() });\n  };\n\n  async componentDidMount() {\n    await this.fetchItems();\n    await this.fetchStatuses();\n  }\n\n  render() {\n    return (\n      <div className={`App ${this.state.color}`}>\n        <div id=\"ListPanel\">\n          <div className=\"ItemList\">\n            <header id=\"ListHeader\" className=\"panelHeader\">\n              <div className=\"Logo\">\n                <div className=\"colored\">RrHN</div>\n                <div className=\"title\">React-redux Hacker News</div>\n              </div>\n              <span className=\"settingsIcon\" onClick={this.togglePreferenceDialog}>\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z\"/>\n                </svg>\n             </span>\n            </header>\n\n            <div id=\"ListMainContent\">\n              <ItemList\n                items={this.state.items}\n                statuses={this.state.statuses}\n                selected={this.state.selected}\n                amount={this.state.amountOfItems}\n                onSelectItem={this.onSelectItem}\n              />\n              <p onClick={this.markAllVisibleAsSeen}>\n                Mark all items as 'seen'\n              </p>\n            </div>\n\n            <footer id=\"ListFooter\">\n              visual design based on\n              <a href=\"http://blog.trackduck.com/weekly/top-10-hacker-news-redesigns/unknown-author-2/\">\n                this redesign by unknown author\n              </a>.\n            </footer>\n          </div>\n        </div>\n\n        <div id=\"ContentPanel\" className={this.state.dialogVisible ? 'preferences' : 'item'}>\n          {\n            this.state.dialogVisible\n              ? <PreferenceDialog\n                itemAmount={this.state.amountOfItems}\n                maxItems={this.state.items.length}\n                color={this.state.color}\n                onCancel={this.togglePreferenceDialog}\n                onSave={this.savePreferences}\n              />\n              : this.state.selected !== null\n                ? <IFrameArea item={this.state.selected}/>\n                : (\n                  <div>\n                    <h2>No item selected yet.</h2>\n                    <p>Select an item in the colum on the left.</p>\n                  </div>\n                )\n          }\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}