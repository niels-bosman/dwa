{"ast":null,"code":"var _jsxFileName = \"/home/niels/Projects/school/niels-bosman/client/4/src/components/App.jsx\";\nimport React from 'react';\nimport { ItemList } from './ItemList';\nimport { IFrameArea } from './IFrameArea';\nimport { PreferenceDialog } from './PreferenceDialog';\nexport class RrHNApp extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      items: [],\n      statuses: [],\n      selected: null,\n      dialogVisible: false,\n      color: 'orange',\n      amountOfItems: 60\n    };\n\n    this.updateItemToSelected = async item => {\n      await fetch(`http://localhost:3000/itemStatuses/${item.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'text/plain'\n        },\n        body: 'seen'\n      });\n    };\n\n    this.onSelectItem = async selected => {\n      await this.updateItemToSelected(selected);\n      this.setState({\n        selected\n      });\n    };\n\n    this.markAllVisibleAsSeen = async () => {\n      const itemsToMark = this.state.items.slice(0, this.state.amount);\n\n      for (const item of itemsToMark) await this.updateItemToSelected(item);\n    };\n\n    this.togglePreferenceDialog = () => {\n      this.setState(({\n        dialogVisible\n      }) => ({\n        dialogVisible: !dialogVisible\n      }));\n    };\n\n    this.savePreferences = (amountOfItems, color) => {\n      this.setState({\n        amountOfItems,\n        color\n      });\n      this.togglePreferenceDialog();\n    };\n\n    this.fetchItems = async () => {\n      const items = await fetch('http://localhost:3000/hn/topstories');\n      this.setState({\n        items: await items.json()\n      });\n    };\n\n    this.fetchStatuses = async () => {\n      const statuses = await fetch('http://localhost:3000/itemStatuses');\n      this.setState({\n        statuses: await statuses.json()\n      });\n    };\n  }\n\n  async componentDidMount() {\n    await this.fetchItems();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `App ${this.state.color}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ListPanel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ItemList\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      id: \"ListHeader\",\n      className: \"panelHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"colored\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, \"RrHN\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, \"React-redux Hacker News\")), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"settingsIcon\",\n      onClick: this.togglePreferenceDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"20\",\n      height: \"20\",\n      viewBox: \"0 0 1792 1792\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ListMainContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ItemList, {\n      items: this.state.items,\n      selected: this.state.selected,\n      amount: this.state.amountOfItems,\n      onSelectItem: this.onSelectItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      onClick: this.markAllVisibleAsSeen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, \"Mark all items as 'seen'\")), /*#__PURE__*/React.createElement(\"footer\", {\n      id: \"ListFooter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, \"visual design based on\", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"http://blog.trackduck.com/weekly/top-10-hacker-news-redesigns/unknown-author-2/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }, \"this redesign by unknown author\"), \".\"))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ContentPanel\",\n      className: this.state.dialogVisible ? 'preferences' : 'item',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, this.state.dialogVisible ? /*#__PURE__*/React.createElement(PreferenceDialog, {\n      itemAmount: this.state.amountOfItems,\n      maxItems: this.state.items.length,\n      color: this.state.color,\n      onCancel: this.togglePreferenceDialog,\n      onSave: this.savePreferences,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }) : this.state.selected !== null ? /*#__PURE__*/React.createElement(IFrameArea, {\n      item: this.state.selected,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, \"No item selected yet.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, \"Select an item in the colum on the left.\"))));\n  }\n\n}","map":{"version":3,"sources":["/home/niels/Projects/school/niels-bosman/client/4/src/components/App.jsx"],"names":["React","ItemList","IFrameArea","PreferenceDialog","RrHNApp","Component","state","items","statuses","selected","dialogVisible","color","amountOfItems","updateItemToSelected","item","fetch","id","method","headers","body","onSelectItem","setState","markAllVisibleAsSeen","itemsToMark","slice","amount","togglePreferenceDialog","savePreferences","fetchItems","json","fetchStatuses","componentDidMount","render","length"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { ItemList } from './ItemList';\nimport { IFrameArea } from './IFrameArea';\nimport { PreferenceDialog } from './PreferenceDialog';\n\nexport class RrHNApp extends React.Component {\n  state = {\n    items: [],\n    statuses: [],\n    selected: null,\n    dialogVisible: false,\n    color: 'orange',\n    amountOfItems: 60\n  };\n\n\n  updateItemToSelected = async item => {\n    await fetch(`http://localhost:3000/itemStatuses/${item.id}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'text/plain' },\n      body: 'seen',\n    });\n  }\n\n  onSelectItem = async selected => {\n    await this.updateItemToSelected(selected);\n    this.setState({ selected });\n  };\n\n  markAllVisibleAsSeen = async () => {\n    const itemsToMark = this.state.items.slice(0, this.state.amount);\n\n    for (const item of itemsToMark) await this.updateItemToSelected(item);\n  };\n\n  togglePreferenceDialog = () => {\n    this.setState(({ dialogVisible }) => ({ dialogVisible: !dialogVisible }));\n  };\n\n  savePreferences = (amountOfItems, color) => {\n    this.setState({ amountOfItems, color });\n    this.togglePreferenceDialog();\n  };\n\n  fetchItems = async () => {\n    const items = await fetch('http://localhost:3000/hn/topstories');\n    this.setState({ items: await items.json() });\n  }\n\n  fetchStatuses = async () => {\n    const statuses = await fetch('http://localhost:3000/itemStatuses');\n    this.setState({ statuses: await statuses.json() });\n  }\n\n  async componentDidMount() {\n    await this.fetchItems();\n  }\n\n  render() {\n    return (\n      <div className={`App ${this.state.color}`}>\n        <div id=\"ListPanel\">\n          <div className=\"ItemList\">\n            <header id=\"ListHeader\" className=\"panelHeader\">\n              <div className=\"Logo\">\n                <div className=\"colored\">RrHN</div>\n                <div className=\"title\">React-redux Hacker News</div>\n              </div>\n              <span className=\"settingsIcon\" onClick={this.togglePreferenceDialog}>\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z\"/>\n                </svg>\n             </span>\n            </header>\n\n            <div id=\"ListMainContent\">\n              <ItemList\n                items={this.state.items}\n                selected={this.state.selected}\n                amount={this.state.amountOfItems}\n                onSelectItem={this.onSelectItem}\n              />\n              <p onClick={this.markAllVisibleAsSeen}>\n                Mark all items as 'seen'\n              </p>\n            </div>\n\n            <footer id=\"ListFooter\">\n              visual design based on\n              <a href=\"http://blog.trackduck.com/weekly/top-10-hacker-news-redesigns/unknown-author-2/\">\n                this redesign by unknown author\n              </a>.\n            </footer>\n          </div>\n        </div>\n\n        <div id=\"ContentPanel\" className={this.state.dialogVisible ? 'preferences' : 'item'}>\n          {\n            this.state.dialogVisible\n              ? <PreferenceDialog\n                itemAmount={this.state.amountOfItems}\n                maxItems={this.state.items.length}\n                color={this.state.color}\n                onCancel={this.togglePreferenceDialog}\n                onSave={this.savePreferences}\n              />\n              : this.state.selected !== null\n                ? <IFrameArea item={this.state.selected}/>\n                : (\n                  <div>\n                    <h2>No item selected yet.</h2>\n                    <p>Select an item in the colum on the left.</p>\n                  </div>\n                )\n          }\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}