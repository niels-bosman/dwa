{"ast":null,"code":"import _classCallCheck from \"/home/niels/Projects/school/niels-bosman/client/6/6-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/niels/Projects/school/niels-bosman/client/6/6-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/niels/Projects/school/niels-bosman/client/6/6-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/niels/Projects/school/niels-bosman/client/6/6-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/niels/Projects/school/niels-bosman/client/6/6-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/niels/Projects/school/niels-bosman/client/6/6-1/src/components/ItemList.js\";\nimport React from \"react\";\nimport * as ReactRedux from \"react-redux\";\nimport parseUrl from \"url-parse\";\nimport Moment from \"moment\";\nimport { Logo } from \"./Logo\";\nimport { SettingsIcon } from \"./Preferences\";\nimport { showPrefsAction, markAsSeenAction, toggleItemAction } from \"../reducers\"; //============================================================================\n//  The React component that renders the UI for the ItemList\n//----------------------------------------------------------------------------\n\nvar ItemListUI = /*#__PURE__*/function (_React$Component) {\n  _inherits(ItemListUI, _React$Component);\n\n  function ItemListUI() {\n    _classCallCheck(this, ItemListUI);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ItemListUI).apply(this, arguments));\n  }\n\n  _createClass(ItemListUI, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var itemsToShow = this.props.items.slice(0, this.props.listSize); // this also works when listSize > items.length.\n\n      var theItems = itemsToShow.map(function (itm, idx) {\n        return /*#__PURE__*/React.createElement(Item, {\n          item: itm,\n          status: _this.props.statuses[itm.id],\n          key: itm.id,\n          isSelected: _this.props.selectedItem && itm.id === _this.props.selectedItem.id,\n          onToggleItem: _this.props.onToggleItem,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 7\n          }\n        });\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ItemList\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(ListHeader, {\n        doShowPrefs: this.props.doShowPrefs,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"ListMainContent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }\n      }, theItems), /*#__PURE__*/React.createElement(\"button\", {\n        id: \"markAsSeen\",\n        onClick: function onClick() {\n          return _this.props.onMarkAsSeen(_this.props.listSize);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }\n      }, \"Mark all items as \\u201Cseen\\u201D\"), /*#__PURE__*/React.createElement(ListFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return ItemListUI;\n}(React.Component); //============================================================================\n//  Connecting the ItemListUI to the Redux Store results in a new\n//  React component that can talk to the Store, and provide the UI-component\n//  with both data-props and props containing functions to change the store.\n//----------------------------------------------------------------------------\n// What pieces of the Redux Store should be passed to the ItemListUI as\n// data-props?\n\n\nfunction mapStateToProps(state) {\n  return {\n    statuses: state.hnItems.statuses,\n    listSize: state.prefs.currentListSize,\n    selectedItem: state.hnItems.selectedItem,\n    items: state.hnItems.items\n  };\n} // What functions does the ItemListUI need to change the App state?\n// Note how all functions merely create an Action (using a parameter if needed)\n//   that they send to the reducers by calling the Redux-supplied function 'dispatch'.\n// function mapDispatchToProps(dispatch) {\n//   return {\n//     doShowPrefs: () => dispatch(showPrefsAction()),\n//     onMarkAsSeen: listSize => dispatch(markAsSeenAction(listSize)),\n//     onToggleItem: item => dispatch(toggleItemAction(item))\n//   };\n// }\n\n\nvar mapDispatchToProps = {\n  doShowPrefs: showPrefsAction,\n  onMarkAsSeen: markAsSeenAction,\n  onToggleItem: toggleItemAction\n}; // Here a new React component is created that will contain the ItemListUI, and\n// supply it with all the data and functions as props.\n// This connected version of the ItemList component is the one we export to the\n// rest of the app.\n\nexport var ItemList = ReactRedux.connect(mapStateToProps, mapDispatchToProps)(ItemListUI); //============================================================================\n//  A bunch of functional components to help render parts of the ItemList.\n//  Note how we choose not to connect the ListItem component. It can get its\n//  data and functions in the normal react way, because it was never a stateful\n//  component.\n//----------------------------------------------------------------------------\n\nfunction ListHeader(props) {\n  return /*#__PURE__*/React.createElement(\"header\", {\n    id: \"ListHeader\",\n    className: \"panelHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Logo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"settingsIcon\",\n    onClick: props.doShowPrefs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SettingsIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  })));\n}\n\nfunction ListFooter(props) {\n  return /*#__PURE__*/React.createElement(\"footer\", {\n    id: \"ListFooter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, \"visual design based on\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://blog.trackduck.com/weekly/top-10-hacker-news-redesigns/unknown-author-2/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, \"this redesign by unknown author\"), \".\");\n}\n\nfunction Item(props) {\n  var statusText;\n\n  switch (props.status) {\n    case \"read\":\n      statusText = \"already read\";\n      break;\n\n    case \"seen\":\n      statusText = \"seen before\";\n      break;\n\n    default:\n      statusText = \"new\";\n  }\n\n  var domain;\n\n  if (props.item.url) {\n    var hostname = parseUrl(props.item.url).hostname;\n\n    if (hostname.startsWith(\"www.\")) {\n      hostname = hostname.substr(4);\n    }\n\n    domain = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"domain\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 7\n      }\n    }, \"\\u2003(\", hostname, \", \", statusText, \")\");\n  } // let timeAgo = Moment.unix(props.item.time).fromNow();\n\n\n  var timeAgo = Moment.unix(props.item.time).format(\"LL\");\n  var comments;\n\n  if (props.item.descendants !== undefined) {\n    var commentsUrl = \"https://news.ycombinator.com/item?id=\" + encodeURIComponent(props.item.id);\n    comments = /*#__PURE__*/React.createElement(\"a\", {\n      className: \"comments\",\n      href: commentsUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }\n    }, props.item.descendants), \" comments\");\n  }\n\n  var clickHandler = function clickHandler(evt) {\n    evt.preventDefault();\n    props.onToggleItem(props.item);\n  };\n\n  var cssClasses = \"Item \";\n  cssClasses += props.status || \"new\";\n\n  if (props.isSelected) {\n    cssClasses += \" selectedItem\";\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cssClasses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"itemTitle\",\n    href: props.item.url,\n    onClick: clickHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, props.item.title), domain), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, props.item.score, \" points\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, \"|\"), \"by \", props.item.by, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 11\n    }\n  }, \"|\"), timeAgo, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, \"|\"), comments)));\n}","map":{"version":3,"sources":["/home/niels/Projects/school/niels-bosman/client/6/6-1/src/components/ItemList.js"],"names":["React","ReactRedux","parseUrl","Moment","Logo","SettingsIcon","showPrefsAction","markAsSeenAction","toggleItemAction","ItemListUI","itemsToShow","props","items","slice","listSize","theItems","map","itm","idx","statuses","id","selectedItem","onToggleItem","doShowPrefs","onMarkAsSeen","Component","mapStateToProps","state","hnItems","prefs","currentListSize","mapDispatchToProps","ItemList","connect","ListHeader","ListFooter","Item","statusText","status","domain","item","url","hostname","startsWith","substr","timeAgo","unix","time","format","comments","descendants","undefined","commentsUrl","encodeURIComponent","clickHandler","evt","preventDefault","cssClasses","isSelected","title","score","by"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport * as ReactRedux from \"react-redux\";\n\nimport parseUrl from \"url-parse\";\nimport Moment from \"moment\";\n\nimport { Logo } from \"./Logo\";\nimport { SettingsIcon } from \"./Preferences\";\n\nimport {\n  showPrefsAction,\n  markAsSeenAction,\n  toggleItemAction\n} from \"../reducers\";\n\n//============================================================================\n//  The React component that renders the UI for the ItemList\n//----------------------------------------------------------------------------\n\nclass ItemListUI extends React.Component {\n  render() {\n    const itemsToShow = this.props.items.slice(0, this.props.listSize); // this also works when listSize > items.length.\n\n    const theItems = itemsToShow.map((itm, idx) => (\n      <Item\n        item={itm}\n        status={this.props.statuses[itm.id]}\n        key={itm.id}\n        isSelected={\n          this.props.selectedItem && itm.id === this.props.selectedItem.id\n        }\n        onToggleItem={this.props.onToggleItem}\n      />\n    ));\n\n    return (\n      <div className=\"ItemList\">\n        <ListHeader doShowPrefs={this.props.doShowPrefs} />\n        <div id=\"ListMainContent\">{theItems}</div>\n        <button\n          id=\"markAsSeen\"\n          onClick={() => this.props.onMarkAsSeen(this.props.listSize)}\n        >\n          Mark all items as “seen”\n        </button>\n        <ListFooter />\n      </div>\n    );\n  }\n}\n\n//============================================================================\n//  Connecting the ItemListUI to the Redux Store results in a new\n//  React component that can talk to the Store, and provide the UI-component\n//  with both data-props and props containing functions to change the store.\n//----------------------------------------------------------------------------\n\n// What pieces of the Redux Store should be passed to the ItemListUI as\n// data-props?\nfunction mapStateToProps(state) {\n  return {\n    statuses: state.hnItems.statuses,\n    listSize: state.prefs.currentListSize,\n    selectedItem: state.hnItems.selectedItem,\n    items: state.hnItems.items\n  };\n}\n\n// What functions does the ItemListUI need to change the App state?\n// Note how all functions merely create an Action (using a parameter if needed)\n//   that they send to the reducers by calling the Redux-supplied function 'dispatch'.\n// function mapDispatchToProps(dispatch) {\n//   return {\n//     doShowPrefs: () => dispatch(showPrefsAction()),\n//     onMarkAsSeen: listSize => dispatch(markAsSeenAction(listSize)),\n//     onToggleItem: item => dispatch(toggleItemAction(item))\n//   };\n// }\n\nconst mapDispatchToProps = {\n  doShowPrefs: showPrefsAction,\n  onMarkAsSeen: markAsSeenAction,\n  onToggleItem: toggleItemAction\n};\n\n// Here a new React component is created that will contain the ItemListUI, and\n// supply it with all the data and functions as props.\n// This connected version of the ItemList component is the one we export to the\n// rest of the app.\nexport const ItemList = ReactRedux.connect(mapStateToProps, mapDispatchToProps)(\n  ItemListUI\n);\n\n//============================================================================\n//  A bunch of functional components to help render parts of the ItemList.\n//  Note how we choose not to connect the ListItem component. It can get its\n//  data and functions in the normal react way, because it was never a stateful\n//  component.\n//----------------------------------------------------------------------------\n\nfunction ListHeader(props) {\n  return (\n    <header id=\"ListHeader\" className=\"panelHeader\">\n      <Logo />{\" \"}\n      <span className=\"settingsIcon\" onClick={props.doShowPrefs}>\n        <SettingsIcon />\n      </span>\n    </header>\n  );\n}\n\nfunction ListFooter(props) {\n  return (\n    <footer id=\"ListFooter\">\n      visual design based on{\" \"}\n      <a href=\"http://blog.trackduck.com/weekly/top-10-hacker-news-redesigns/unknown-author-2/\">\n        this redesign by unknown author\n      </a>\n      .\n    </footer>\n  );\n}\n\nfunction Item(props) {\n  let statusText;\n  switch (props.status) {\n    case \"read\":\n      statusText = \"already read\";\n      break;\n    case \"seen\":\n      statusText = \"seen before\";\n      break;\n    default:\n      statusText = \"new\";\n  }\n  let domain;\n  if (props.item.url) {\n    let hostname = parseUrl(props.item.url).hostname;\n    if (hostname.startsWith(\"www.\")) {\n      hostname = hostname.substr(4);\n    }\n    domain = (\n      <span className=\"domain\">\n        &emsp;({hostname}, {statusText})\n      </span>\n    );\n  }\n  // let timeAgo = Moment.unix(props.item.time).fromNow();\n  let timeAgo = Moment.unix(props.item.time).format(\"LL\");\n  let comments;\n  if (props.item.descendants !== undefined) {\n    let commentsUrl =\n      \"https://news.ycombinator.com/item?id=\" +\n      encodeURIComponent(props.item.id);\n    comments = (\n      <a className=\"comments\" href={commentsUrl}>\n        <strong>{props.item.descendants}</strong> comments\n      </a>\n    );\n  }\n  let clickHandler = evt => {\n    evt.preventDefault();\n    props.onToggleItem(props.item);\n  };\n  let cssClasses = \"Item \";\n  cssClasses += props.status || \"new\";\n  if (props.isSelected) {\n    cssClasses += \" selectedItem\";\n  }\n\n  return (\n    <div className={cssClasses}>\n      <div className=\"mainInfo\">\n        <div>\n          <a className=\"itemTitle\" href={props.item.url} onClick={clickHandler}>\n            {props.item.title}\n          </a>\n          {domain}\n        </div>\n        <div className=\"info\">\n          {props.item.score} points\n          <span className=\"divider\">|</span>\n          by {props.item.by}\n          <span className=\"divider\">|</span>\n          {timeAgo}\n          <span className=\"divider\">|</span>\n          {comments}\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}